<!-- Bouton flottant du chat -->
<div class="chat-toggle" (click)="toggleChat()">
  <img src="assets/FrontOffice/images/coach.png" alt="Coach" />
</div>

<!-- FenÃªtre du chat -->
<div class="chat-window" [class.open]="isOpen">
  <div class="chat-header">
    <img src="assets/FrontOffice/images/coach.png" alt="Coach" />
    <span>Coach Virtuel ðŸ’¬</span>
    <button class="close-btn" (click)="toggleChat()">âœ–</button>
  </div>

  <div #chatBox class="chat-box">
    <div *ngFor="let msg of messages" [ngClass]="['message', msg.from]">
      <div class="avatar">
        <img *ngIf="msg.from === 'user'" src="assets/FrontOffice/images/client.png" alt="User" />
        <img *ngIf="msg.from === 'bot'" src="assets/FrontOffice/images/coach.png" alt="Coach" />
      </div>
      <div class="bubble" [ngClass]="msg.from">
        <div *ngIf="!msg.typing" [innerHTML]="formatBotText(msg.text)" class="bot-text"></div>
        <p *ngIf="msg.typing" class="typing">
          <span></span><span></span><span></span>
        </p>
        <span class="time">{{ msg.time }}</span>
      </div>

    </div>
  </div>

  <div class="input-area">
    <input [(ngModel)]="userMessage"
           placeholder="Posez une question..."
           (keyup.enter)="sendMessage()">
    <button (click)="sendMessage()">âž¤</button>
  </div>
</div>
